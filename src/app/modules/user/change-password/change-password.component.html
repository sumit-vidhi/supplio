<app-user-header></app-user-header>

<div class="container mt-4 mb-5">

    <app-user-nav></app-user-nav>

    <h3 class="page-title mb-4">Change Password</h3>

    <div class="row">
        <div class="col-md-5">

            <form [formGroup]="regForm1" (ngSubmit)="changePassword(regForm1)">

                <div class="row">
                    <div class="col-md-12 mt-30" id="passform">
                        <div [ngClass]="{'has-error': isFieldValid('regForm1','password')}" class="form-group">
                            <label>Old Password*</label>
                            <input formControlName="oldpassword" type="password" class="form-control" placeholder="Enter password">

                            <div *ngIf="isFieldValid('regForm1','oldpassword')">
                                <span *ngIf="regForm1.get('oldpassword').errors.required" class="help-block text-danger">
                      Old Password is required.
                    </span>

                                <span *ngIf="
                                !regForm1.get('oldpassword').errors.required && (
                                regForm1.get('oldpassword').errors.minlength ||
                                regForm1.get('oldpassword').errors.maxlength )" class="help-block text-danger">
                      *Old Password must be 6-20 characters long.
                    </span>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div [ngClass]="{'has-error': isFieldValid('regForm1','password')}" class="form-group">
                            <label>New Password*</label>
                            <input formControlName="password" type="password" class="form-control" placeholder="Enter password">

                            <div *ngIf="isFieldValid('regForm1','password')">
                                <span *ngIf="regForm1.get('password').errors.required" class="help-block text-danger">
                      *New Password is required.
                    </span>

                                <span *ngIf="
                            !regForm1.get('password').errors.required && (
                            regForm1.get('password').errors.minlength ||
                            regForm1.get('password').errors.maxlength )" class="help-block text-danger">
                      *New Password must be 6-20 characters long.
                    </span>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div [ngClass]="{'has-error': 
                        regForm1.get('confirm_password').value !== 
                        regForm1.get('password').value && 
                        regForm1.get('confirm_password').touched}" class="form-group">

                            <label>Confirm Password*</label>
                            <input formControlName="confirm_password" type="password" class="form-control" placeholder="Confirm password">

                            <div *ngIf="
                            regForm1.get('confirm_password').value !== 
                            regForm1.get('password').value && 
                            regForm1.get('confirm_password').touched">
                                <span class="help-block text-danger">
                      Confirm password must be same.
                    </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row center-block">

                    <button class="btn btn-success btn-radius mt-3" [disabled]="!regForm1.valid">Update Password</button>

                </div>
            </form>

        </div>
    </div>

</div>