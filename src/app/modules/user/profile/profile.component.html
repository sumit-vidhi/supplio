<div
  class="kt-content kt-content--fit-top kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"
  id="kt_content"
>
  <!-- begin:: Subheader -->
  <div class="kt-subheader kt-grid__item" id="kt_subheader">
    <div class="kt-container">
      <div class="kt-subheader__main">
        <h3 class="kt-subheader__title">
          Agency Profile
        </h3>
      </div>
      <div class="kt-subheader__toolbar">
        <div class="kt-subheader__wrapper"></div>
      </div>
    </div>
  </div>
  <!-- end:: Subheader -->
  <!-- begin:: Content -->
  <div class="kt-container kt-grid__item kt-grid__item--fluid" *ngIf="appData">
    <!--Begin::Profile 3-->
    <div class="row">
      <div class="col-md-3">
        <div class="kt-portlet kt-portlet--height-fluid-">
          <div class="kt-portlet__head kt-portlet__head--noborder">
            <div class="kt-portlet__head-label">
              <h3 class="kt-portlet__head-title"></h3>
            </div>
            <div class="kt-portlet__head-toolbar"></div>
          </div>
          <div class="kt-portlet__body">
            <!--begin::Widget -->
            <div class="kt-widget kt-widget--user-profile-2">
              <div class="kt-widget__head">
                <div class="kt-widget__media">
                  <img
                    class="kt-widget__img kt-hidden-"
                    src="{{ this.appData.files[2].filepath }}"
                    alt="image"
                  />
                  <div
                    class="kt-widget__pic kt-widget__pic--danger kt-font-danger kt-font-boldest kt-font-light kt-hidden"
                  >
                    MP
                  </div>
                </div>
                <div class="kt-widget__info">
                  <a href="#" class="kt-widget__username">
                    {{ appData.agency_name }}
                  </a>
                  <span class="kt-widget__desc" class="admin-controls">
                    <bar-rating
                      [disabled]="true"
                      [(rate)]="appData.overall_rating.avg_rating"
                      [max]="5"
                    >
                    </bar-rating>
                  </span>
                </div>
              </div>
              <div class="kt-widget__body">
                <div class="kt-widget__section">
                  <div class="kt-section">
                    <div class="">
                      <span class="kt-badge kt-badge--brand kt-badge--lg"
                        ><i class="fa fa-check-circle"></i
                      ></span>
                      <span class="kt-badge kt-badge--dark kt-badge--lg"
                        ><i class="fa fa-star"></i
                      ></span>
                      <span class="kt-badge kt-badge--success kt-badge--lg"
                        ><i class="fa fa-certificate"></i
                      ></span>
                      <span class="kt-badge kt-badge--info kt-badge--lg"
                        ><i class="fa fa-medal"></i
                      ></span>
                    </div>
                  </div>
                </div>
                <!-- <div class="kt-widget__content">
                                    <div class="kt-widget__stats kt-margin-r-20">
                                        <div class="kt-widget__icon">
                                            <i class="flaticon-piggy-bank"></i>
                                        </div>
                                        <div class="kt-widget__details">
                                            <span class="kt-widget__title">Earnings</span>
                                            <span class="kt-widget__value"><span>$</span>249,500</span>
                                        </div>
                                    </div>
                                    <div class="kt-widget__stats">
                                        <div class="kt-widget__icon">
                                            <i class="flaticon-pie-chart"></i>
                                        </div>
                                        <div class="kt-widget__details">
                                            <span class="kt-widget__title">Net</span>
                                            <span class="kt-widget__value"><span>$</span>84,060</span>
                                        </div>
                                    </div>
                                </div> -->
                <div class="kt-widget__item">
                  <div class="kt-widget__contact">
                    <span class="kt-widget__label">Email:</span>
                    <a href="#" class="kt-widget__data"> {{ appData.email }}</a>
                  </div>
                  <div class="kt-widget__contact">
                    <span class="kt-widget__label">Phone:</span>
                    <a href="#" class="kt-widget__data">
                      {{ appData.phone_number }}</a
                    >
                  </div>
                </div>
              </div>
              <div class="kt-widget__footer">
                <button
                  type="button"
                  (click)="messageOpen(appData, contentmessage)"
                  class="btn btn-label-success btn-lg btn-upper"
                >
                  write message
                </button>
              </div>
            </div>
            <!--end::Widget -->
          </div>
        </div>
        <div
          class="kt-portlet sticky"
          data-sticky="true"
          data-margin-top="100px"
          data-sticky-for="1023"
          data-sticky-class="kt-sticky"
          style=""
        >
          <div class="kt-portlet__body kt-portlet__body--fit">
            <ul
              class="kt-nav kt-nav--bold kt-nav--md-space kt-nav--v3 kt-margin-t-20 kt-margin-b-20 nav nav-tabs"
              role="tablist"
            >
              <li class="kt-nav__item">
                <a
                  class="kt-nav__link active"
                  data-toggle="tab"
                  href="#kt_profile_tab_personal_information"
                  role="tab"
                >
                  <span class="kt-nav__link-icon"
                    ><i class="flaticon-avatar"></i
                  ></span>
                  <span class="kt-nav__link-text">About</span>
                </a>
              </li>
              <li class="kt-nav__item">
                <a
                  class="kt-nav__link"
                  data-toggle="tab"
                  href="#kt_profile_tab_account_information"
                  role="tab"
                >
                  <span class="kt-nav__link-icon"
                    ><i class="flaticon-lock"></i
                  ></span>
                  <span class="kt-nav__link-text">Experince & Work</span>
                </a>
              </li>
              <li class="kt-nav__item">
                <a
                  class="kt-nav__link"
                  data-toggle="tab"
                  href="#kt_profile_change_password"
                  role="tab"
                >
                  <span class="kt-nav__link-icon"
                    ><i class="flaticon-settings"></i
                  ></span>
                  <span class="kt-nav__link-text"
                    >Certifcations & Accociations</span
                  >
                </a>
              </li>
              <li class="kt-nav__item">
                <a
                  class="kt-nav__link"
                  data-toggle="tab"
                  href="#kt_profile_email_settings"
                  role="tab"
                >
                  <span class="kt-nav__link-icon"
                    ><i class="flaticon-multimedia-2"></i
                  ></span>
                  <span class="kt-nav__link-text">Team</span>
                </a>
              </li>
              <li class="kt-nav__item">
                <a
                  class="kt-nav__link"
                  href="#"
                  role="tab"
                  data-toggle="kt-tooltip"
                  title=""
                  data-placement="right"
                  data-original-title="This feature is coming soon!"
                >
                  <span class="kt-nav__link-icon"
                    ><i class="flaticon-coins"></i
                  ></span>
                  <span class="kt-nav__link-text">Company Images</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-9">
        <div class="kt-portlet">
          <div class="kt-portlet__body">
            <h2>{{ appData.agency_name }}</h2>
            <p [innerHtml]="appData.about_company"></p>
            <span>
              <ul class="profile-social-links">
                <li><i class="socicon-facebook"></i></li>
                <li><i class="socicon-linkedin"></i></li>
                <li><i class="socicon-twitter"></i></li>
                <li><i class="socicon-youtube"></i></li>
              </ul>
            </span>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Experience
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div
                class="kt-portlet__body"
                *ngIf="appData.experience_industries_ids"
              >
                <div class="kt-widget4">
                  <div
                    class="kt-widget4__item"
                    *ngFor="
                      let data of appData.experience_industries_ids;
                      let i = index
                    "
                  >
                    <span class="kt-widget4__icon">
                      <i class="flaticon-squares-1"></i>
                    </span>
                    <span
                      href="#"
                      class="kt-widget4__title kt-widget4__title--light"
                    >
                      {{ data.name }}
                    </span>
                    <span class="kt-widget4__number kt-font-info">{{
                      appData.experience_industries_values[i]
                    }}</span>
                  </div>
                  <div
                    class="kt-widget4__item"
                    *ngFor="
                      let data of appData.experience_categories_ids;
                      let i = index
                    "
                  >
                    <span class="kt-widget4__icon">
                      <i class="flaticon-squares-1"></i>
                    </span>
                    <span
                      href="#"
                      class="kt-widget4__title kt-widget4__title--light"
                    >
                      {{ data.name }}
                    </span>
                    <span class="kt-widget4__number kt-font-info">{{
                      appData.experience_categories_values[i]
                    }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Work
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body" *ngIf="appData.agency_work">
                <div class="kt-widget4">
                  <div
                    class="kt-widget4__item"
                    *ngFor="let data of appData.agency_work; let i = index"
                  >
                    <span class="kt-widget4__icon">
                      <a href="{{ data.filepath }}" target="_blank">
                        <i
                          class="{{ getFileExtension(data.filepath) }}"
                          style="color: #5cb85c;"
                          aria-hidden="true"
                        ></i
                      ></a>
                    </span>
                    <span class="kt-widget4__title kt-widget4__title--light">
                      {{ data.description }}
                    </span>
                    <span class="kt-widget4__number"
                      ><button
                        type="button"
                        class="btn btn-label-success btn-lg btn-upper"
                      >
                        Download
                      </button></span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Associations
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body" *ngIf="appData.associations">
                <div class="kt-widget4">
                  <div
                    class="kt-widget4__item"
                    *ngFor="let data of appData.associations; let i = index"
                  >
                    <span class="kt-widget4__icon">
                      <i class="flaticon-squares-1"></i>
                    </span>
                    <span
                      href="#"
                      class="kt-widget4__title kt-widget4__title--light"
                    >
                      {{ data.name }} | {{ data.type }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Certifcations
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body" *ngIf="appData.awards">
                <div class="kt-widget4">
                  <div
                    class="kt-widget4__item"
                    *ngFor="let data of appData.awards; let i = index"
                  >
                    <span class="kt-widget4__icon">
                      <a href="{{ data.file }}" target="_blank">
                        <i
                          class="{{ getFileExtension(data.file) }}"
                          style="color: #5cb85c;"
                          aria-hidden="true"
                        ></i
                      ></a>
                    </span>
                    <span class="kt-widget4__title kt-widget4__title--light">
                      {{ data.name }}
                    </span>
                    <span class="kt-widget4__number"
                      ><button
                        type="button"
                        class="btn btn-label-success btn-lg btn-upper"
                      >
                        Download
                      </button></span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" *ngIf="appData.team">
          <div
            class="col-xl-3"
            *ngFor="let data of appData.team; let i = index"
          >
            <div class="kt-portlet kt-portlet--height-fluid">
              <div class="kt-portlet__head kt-portlet__head--noborder">
                <div class="kt-portlet__head-label">
                  <h3 class="kt-portlet__head-title"></h3>
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body kt-portlet__body--fit-y">
                <!--begin::Widget -->
                <div class="kt-widget kt-widget--user-profile-4">
                  <div class="kt-widget__head">
                    <div class="kt-widget__media">
                      <img
                        class="kt-widget__img kt-hidden-"
                        src="{{ data.photo }}"
                        alt="image"
                      />
                      <!-- <div
                                                class="kt-widget__pic kt-widget__pic--danger kt-font-danger kt-font-boldest kt-hidden">
                                                JB
                                            </div> -->
                    </div>
                    <div class="kt-widget__content">
                      <div class="kt-widget__section">
                        <a href="#" class="kt-widget__username">
                          {{ data.name }}
                        </a>
                        <div class="kt-widget__button">
                          {{ data.designation }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!--end::Widget -->
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Company Images
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body">
                <ngx-gallery
                  [options]="galleryOptions"
                  [images]="galleryImages"
                ></ngx-gallery>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="kt-portlet">
              <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                  Reviews
                </div>
                <div class="kt-portlet__head-toolbar"></div>
              </div>
              <div class="kt-portlet__body" *ngIf="appData.my_reviews">
                <div class="kt-widget4">
                  <div
                    class="kt-widget4__item"
                    *ngFor="let data of appData.my_reviews; let i = index"
                  >
                    <span
                      href="#"
                      class="kt-widget4__title kt-widget4__title--light"
                    >
                      {{ data.review }}
                      <p>{{ data.created_at | date: 'medium' }}</p>
                    </span>
                    <span
                      class="kt-widget4__number kt-font-info"
                      class="admin-controls"
                    >
                      <bar-rating
                        [disabled]="true"
                        [(rate)]="data.rating"
                        [max]="5"
                      ></bar-rating>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- col-md-9-->
      </div>
      <!--End::Profile 3-->
    </div>
    <!-- end:: Content -->
  </div>
</div>

<ng-template #contentmessage let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Send message to ageny</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="messageForm" (ngSubmit)="onSubmit(mode)">
      <div class="form-group">
        <label for="amount">Subject</label>
        <input
          type="text"
          formControlName="subject"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.subject.errors }"
        />
        <div *ngIf="submitted && f.subject.errors" class="invalid-feedback">
          <div *ngIf="f.subject.errors.required">Subject is required</div>
        </div>
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          formControlName="description"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
        ></textarea>
        <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
          <div *ngIf="f.description.errors.required">
            Description is required
          </div>
        </div>
      </div>

      <div class="mt-2">
        <button class="btn btn-md btn-primary btn-submit btn-radius">
          Send
        </button>
      </div>
    </form>
  </div>
  <!-- <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
      </div> -->
</ng-template>
